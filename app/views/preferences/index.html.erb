<%= form_for :user_preference, url: search_user_preferences_path, remote: true do |f| %>
	<div class="row-fluid">
	  <div class="span12">
	    <div class="span4"></div>
	    <div class="span8">
			  <%= f.select "name", options_for_select([[ "Learn", "Learn" ], ["Teach", "Teach"]]), {prompt:   "--select user preference--"} %>
	    </div>
	    <div class="row-fluid user-filter">
	    	<div class="span12">
	        <div class="span4"></div>
			    <div class="span8">
			    	<%= check_box_tag "user_preference[afinity][]", "Coding" %>
			    	<strong>Coding</strong>
			    	
						<%= check_box_tag 'user_preference[afinity][]', "Photography" %>
						<strong>Photography</strong>
						
			    	<%= check_box_tag 'user_preference[afinity][]', "Cooking" %>
			    	<strong>Cooking</strong>
			    	
						<%= check_box_tag 'user_preference[afinity][]', "Academic" %>
						<strong>Academic</strong>

	          <div class="clear"></div>
						<%= f.submit "Search User", class: "btn btn-success" %> 	
			    </div>
			  </div>
	  	</div>
	  </div>
	</div>
<% end %>

<div class="row-fluid">
  <div class="span12">
    <div class="span4"></div>
    <div class="span8">
      <h3>All Results </h3>
    </div>
  </div>
</div>    
    
<div class="user_list">
  <%#= render :partial => '/users/user_list', :collection => @users %>
  <div class="pagination_margin"><%#= paginate @users %></div>
</div>

<script type="text/javascript">
  $(document).on("change", "#user_preference_name", function(){
    if ($(this).val() != ''){
    	$(".user-filter").show();
    }else{
    	$(".user-filter").hide();
    }
  });
</script>